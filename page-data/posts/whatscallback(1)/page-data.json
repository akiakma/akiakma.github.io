{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/whatscallback(1)","result":{"data":{"markdownRemark":{"id":"7eac357f-1b2e-5363-8276-d9e97bff8a5c","html":"<h1 id=\"콜백함수란\" style=\"position:relative;\"><a href=\"#%EC%BD%9C%EB%B0%B1%ED%95%A8%EC%88%98%EB%9E%80\" aria-label=\"콜백함수란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>콜백함수란?</h1>\n<p>이 문서는 <a href=\"https://medium.com/u/e9031892baf5?source=post_page-----65bb82556c56----------------------\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Brandon Morelli</a>의 <a href=\"https://codeburst.io/javascript-what-the-heck-is-a-callback-aba4da2deced\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JavaScript: What the heck is a Callback?</a> 을 번역한 것입니다.</p>\n<p><strong>간단히:</strong> 콜백은 다른 함수가 <strong>실행을 끝낸 뒤</strong> 실행되는 <em>— call back 되는</em> 함수를 말한다.</p>\n<p><strong>조금 자세히:</strong> 자바스크립트에서 함수는 object이다. 이 때문에 함수는 다른 함수의 인자로 쓰일 수도, 어떤 함수에 의해 리턴될 수도 있다. 이러한 함수를 <strong>고차 함수</strong> <em>higher-order functions</em> 라 부르고 인자로 넘겨지는 함수를 <strong>콜백 함수</strong> <em>callback function</em> 라고 부른다.</p>\n<p>^장황한 설명이다. 예제를 보며 파헤쳐보자!</p>\n<h1 id=\"왜-콜백함수가-필요한가\" style=\"position:relative;\"><a href=\"#%EC%99%9C-%EC%BD%9C%EB%B0%B1%ED%95%A8%EC%88%98%EA%B0%80-%ED%95%84%EC%9A%94%ED%95%9C%EA%B0%80\" aria-label=\"왜 콜백함수가 필요한가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>왜 콜백함수가 필요한가?</h1>\n<p>아주 중요한 이유 — 자바스크립트는 이벤트 기반 언어이기 때문이다. 자바스크립트는 다음 명령어를 실행하기 전 이전 명령어의 응답을 기다리기보단, 다른 이벤트들을 기다리며 계속 명령을 수행한다. 간단한 예제를 보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function first(){\n  console.log(1);\n}function second(){\n  console.log(2);\n}first();\nsecond();</code></pre></div>\n<p>당신이 예상하듯이 <code class=\"language-text\">first</code> 함수가 먼저 실행되고 <code class=\"language-text\">second</code> 함수가 그다음에 실행될 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// 1\n// 2</code></pre></div>\n<p>여기까진 오케이.</p>\n<p>그런데 만약 <code class=\"language-text\">first</code> 함수가 즉시 완료될 수 없는 코드를 포함한다면 어떨까? 예를 들어, 요청 request을 보낸 후 응답 response을 기다려야하는 API라면? 이를 구현하기 위해 <code class=\"language-text\">setTimeout</code> 함수를 써보자. <code class=\"language-text\">setTimeout</code> 함수는 지정된 시간이 지난 후에 함수를 call한다. 우리는 API 요청을 흉내 내기 위해서 함수 콜을 500ms만큼 지연시킬 것이다. 새로운 코드는 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function first(){\n  // Simulate a code delay\n  setTimeout( function(){\n    console.log(1);\n  }, 500 );\n}function second(){\n  console.log(2);\n}first();</code></pre></div>\n<p>지금은 <code class=\"language-text\">setTimeout</code> 함수가 어떻게 동작하는지 이해할 필요는 없다. 중요한 건 우리가 <code class=\"language-text\">console.log(1);</code>를 500ms 딜레이 시켰다는 것이다. 이제 우리 함수를 실행하면 어떻게 될까?</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">first();\nsecond();// 2\n// 1</code></pre></div>\n<p>비록 우리가 <code class=\"language-text\">first()</code>함수를 먼저 콜했더라도 그 결과는<code class=\"language-text\">second()</code>함수의 결과 이후에 찍힌다.</p>\n<p>이는 자바스크립트가 우리가 원하는 순서대로 함수를 수행하지 않았다는 게 아니다. 이는 자바스크립트가 <code class=\"language-text\">first()</code>함수로부터의 응답을 기다린 후에야 <code class=\"language-text\">second()</code> 함수를 수행하는 게 아니라는 뜻이다.</p>\n<h1 id=\"콜백-만들기\" style=\"position:relative;\"><a href=\"#%EC%BD%9C%EB%B0%B1-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"콜백 만들기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>콜백 만들기</h1>\n<p>설명은 이제 그만하고 직접 콜백 함수를 만들어 보자!</p>\n<p>먼저, 크롬 개발자도구를 열고 (<em>Windows: Ctrl + Shift + J</em>)(<em>Mac: Cmd + Option + J</em>) 당신의 콘솔에 다음과 같은 함수 선언을 해보라.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function doHomework(subject) {\n  alert(`Starting my ${subject} homework.`);\n}</code></pre></div>\n<p>위와 같이 우리는 <code class=\"language-text\">doHomework</code> 라는 함수를 만들었다. 이 함수는 우리가 공부할 과목을 변수로 받는다. 당신의 콘솔에 다음과 같이 입력해 함수를 불러보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">doHomework(&#39;math&#39;);// Alerts: Starting my math homework.</code></pre></div>\n<p><code class=\"language-text\">doHomework()</code> 함수의 두 번째 인자로 <code class=\"language-text\">callback</code>을 넘겨줌으로써 콜백 함수를 추가해보자. 이제 우리는 <code class=\"language-text\">doHomework()</code> 함수를 호출할 때 두 번째 인자 자리에서 콜백 함수를 정의할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function doHomework(subject, callback) {\n  alert(`Starting my ${subject} homework.`);\n  callback();\n}\n\ndoHomework(&#39;math&#39;, function() {\n  alert(&#39;Finished my homework&#39;);\n});</code></pre></div>\n<p>당신도 보겠지만, 위의 코드를 입력하면 당신은 2개의 alert를 연달아서 받을 것이다: ‘starting homework’ 메세지와, 그 다음에 ‘finished homework’ 메세지를 말이다.</p>\n<p>사실 콜백 함수를 꼭 함수 호출 시에 정의할 필요는 없다. 다음과 같이 콜백함수는 스크립트의 어느 부분에서라도 정의될 수 있다:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function doHomework(subject, callback) {\n  alert(`Starting my ${subject} homework.`);\n  callback();\n}function alertFinished(){\n  alert(&#39;Finished my homework&#39;);\n}doHomework(&#39;math&#39;, alertFinished);</code></pre></div>\n<p>위 예제의 결과는 바로 전 예제와 완전 같을 것이다. 하지만 코드 구성이 약간 다르다. 당신이 알 수 있듯이, 우리는 <code class=\"language-text\">doHomework()</code> 함수를 호출할 때 <code class=\"language-text\">alertFinished</code> 함수의 정의를 인자로 넘겨준다!</p>\n<h1 id=\"실제-사용-예제\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%A0%9C-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%A0%9C\" aria-label=\"실제 사용 예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실제 사용 예제</h1>\n<p>지난 주에 나는 <a href=\"https://codeburst.io/build-a-simple-twitter-bot-with-node-js-in-just-38-lines-of-code-ed92db9eb078\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">어떻게 38줄의 코드로 트위터 봇을 만드는가(Build a simple Twitter Bot with Node.js in just 38 lines of code)</a>에 대한 블로그를 썼다. 그 블로그의 코드들이 동작하는 이유는 순전히 <a href=\"https://developer.twitter.com/en/docs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Twitters API</a> 덕분이다. 당신이 어떤 API에 요청을 보내면, 당신은 API의 응답에 대응하기 전에 일단 그 응답을 기다려야한다. 이는 실제로 콜백 함수가 어떻게 쓰이는지에 대한 아주 좋은 예제이다! 여기 API요 청을 보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">T.get(&#39;search/tweets&#39;, params, function(err, data, response) {\n  if(!err){\n    // This is where the magic will happen\n  } else {\n    console.log(err);\n  }\n})</code></pre></div>\n<ul>\n<li><code class=\"language-text\">T.get</code> 는 우리가 Twitter에 GET 요청을 보낸다는 뜻이다.</li>\n<li>이 요청에는 세 개의 인자가 있다: <code class=\"language-text\">&#39;search/tweets’</code> 는 요청의 경로, <code class=\"language-text\">params</code> 는 우리의 검색 인자들, 그리고 어떤 익명함수 — 우리의 콜백 이다.</li>\n</ul>\n<p>콜백은 우리가 이 코드의 다음 로직으로 넘어가기 전에 API의 응답을 기다려야 하기 때문에 중요하다! 우리는 현재 API 요청이 성공할지 실패할지 모르기 때문에 일단 우리의 파라미터들을 던져놓고 기다린다. 일단 Twitter가 응답하기만 하면 우리의 콜백 함수가 실행된다. Twitter는 <code class=\"language-text\">err</code> (error) object나 <code class=\"language-text\">response</code> object를 보낼 것이고 우리는 콜백 함수 내에서 <code class=\"language-text\">if()</code> 문을 사용함으로써 우리의 요청이 성공했는지 아닌지를 판단할 수 있다. 그 후에 새로운 데이터를 처리하면 된다.</p>\n<h1 id=\"해냈다\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EB%83%88%EB%8B%A4\" aria-label=\"해냈다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해냈다!</h1>\n<p>잘했다! 당신은 이제 콜백이 무엇이고 어떻게 동작하는지 (이상적으로는) 이해했다. 사실 이는 콜백 함수라는 빙산의 일각일 뿐 아직도 배울 것이 많다. 나는 매주 몇 개의 블로그와 튜토리얼을 작성하므로 매주 한 번 이메일을 받고 싶다면 <a href=\"https://docs.google.com/forms/d/e/1FAIpQLSeQYYmBCBfJF9MXFmRJ7hnwyXvMwyCtHC5wxVDh5Cq--VT6Fg/viewform\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">여기에</a> 당신의 이메일을 적길 바란다.</p>\n<p><a href=\"https://medium.com/@oasis9217/%EB%B2%88%EC%97%AD-javascript-%EB%8F%84%EB%8C%80%EC%B2%B4-%EC%BD%9C%EB%B0%B1%EC%9D%B4-%EB%AD%94%EB%8D%B0-65bb82556c56\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://medium.com/@oasis9217/%EB%B2%88%EC%97%AD-javascript-%EB%8F%84%EB%8C%80%EC%B2%B4-%EC%BD%9C%EB%B0%B1%EC%9D%B4-%EB%AD%94%EB%8D%B0-65bb82556c56</a></p>\n<p>콜백함수의 예시들</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">loading</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">path<span class=\"token punctuation\">,</span> done</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'전달받은 경로:'</span><span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">)</span>\n  <span class=\"token function\">done</span><span class=\"token punctuation\">(</span>path <span class=\"token operator\">+</span> <span class=\"token string\">'sample.txt'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">loading</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/forder/text/'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'완료!:'</span><span class=\"token punctuation\">,</span>result<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\noutput\n<span class=\"token comment\">// '전달받은 경로:' '/forder/text/'</span>\n<span class=\"token comment\">// '완료!:' '/forder/text/sample.txt'</span></code></pre></div>","fields":{"slug":"/posts/whatscallback(1)","tagSlugs":["/tag/javascript/","/tag/callback/"]},"frontmatter":{"date":"2020-03-21T21:10:20.169Z","description":"콜백함수에 관한 글입니다.","tags":["javascript","callback"],"title":"콜백함수란?(1)","socialImage":null}}},"pageContext":{"slug":"/posts/whatscallback(1)"}}}